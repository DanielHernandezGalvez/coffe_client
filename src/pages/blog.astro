---
import Layout from "../layouts/Layout.astro";
import { BaseWPSchema } from "@/types";
import BlogPosts from "../components/Blog/BlogPosts.astro";
 
const url = `${import.meta.env.API_URL}/pages?slug=blog`
const response = await fetch(url)
const json = await response.json();
const data = BaseWPSchema.parse(json[0])
---

<Layout title={data.title.rendered} subtitle={data.acf.subtitle} bgImage={data.featured_images.full.url} >
    
        <div class="text-xl space-y-3 mt-10 lg:mt-0" set:html={data.content.rendered}></div>
   <BlogPosts />
</Layout>
