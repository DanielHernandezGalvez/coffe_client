---
import Layout from "../layouts/Layout.astro";
import GalleryGrid from "../components/gallery/GalleryGrid.astro";
import { GalleryPageSchema } from "@/types";

const url = `${import.meta.env.API_URL}/pages?slug=galeria`;
const response = await fetch(url);
const json = await response.json();
const data = GalleryPageSchema.parse(json[0]);
console.log(data);
---

<Layout
    title={data.title.rendered}
    subtitle={data.acf.subtitle}
    bgImage={data.featured_images.full.url}
>

<GalleryGrid gallery={data.gallery} />
</Layout>
